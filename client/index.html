<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>MagicRPG</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
	<script type="text/javascript" src="js/utils.js"></script>
	<script type="text/javascript" src="js/worldmapview.js"></script>
	<script type="text/javascript" src="js/inventoryview.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(400, 400, Phaser.AUTO, '', { preload: preload, create: create, update: update });

var currentView = WorldMapView;
var views = [WorldMapView, InventoryView];

function preload() {
	for(var i = 0; i < views.length; i++) {
		views[i].preload();
	}
}

function create() {
	for(var i = 0; i < views.length; i++) {
		views[i].create();
		if(views[i] !== currentView) {
			views[i].hide();
		}
	}
}

function update() {
	currentView.update();
}

function viewSwitch(newView) {
	currentView.hide();
	if(newView === "WorldView") {
		currentView = WorldMapView;
	} else if(newView === "InventoryView") {
		currentView = InventoryView;
	}
	currentView.show();
}

</script>

</body>
</html>